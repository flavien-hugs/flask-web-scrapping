{% extends "_base.html" %}
{% block other_css_src %}
    {{ super() }}
	<link href="https://cdn.lineicons.com/2.0/LineIcons.css" rel="stylesheet">
{% endblock other_css_src %}

{% block body_content %}
	<div id="preloader">
		<div class="sk-three-bounce">
			<div class="sk-child sk-bounce1"></div>
			<div class="sk-child sk-bounce2"></div>
			<div class="sk-child sk-bounce3"></div>
		</div>
	</div>

	<div id="main-wrapper">
		{% include "dashboard/paths/_header.html" %}
		{% include "dashboard/paths/_sidebar.html" %}

		<section class="content-body">
			<div class="container-fluid">
				{% block body_content_dashboar %}

				{% endblock body_content_dashboar %}
			</div>
		</section>

		<div class="footer">
            <div class="copyright">
                <p>&copy; {{ moment().format('YYYY') }} &smid; {{ config.SITE_NAME }}</p>
            </div>
        </div>
	</div>

	{{ moment.include_moment() }}
    {{ moment.locale(auto_detect=True) }}
{% endblock body_content %}

{% block other_js_src %}
    <script type="text/javascript" src="{{ url_for('static', filename='vendor/global.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/custom.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/dashboard.js') }}"></script>

	<script>
	function getUrlParams(dParam) {
		var dPageURL = window.location.search.substring(1),
			dURLVariables = dPageURL.split('&'),
			dParameterName,
			i;

		for (i = 0; i < dURLVariables.length; i++) {
			dParameterName = dURLVariables[i].split('=');

			if (dParameterName[0] === dParam) {
				return dParameterName[1] === undefined ? true : decodeURIComponent(dParameterName[1]);
			}
		}
	}

	(function($) {
		"use strict"

		var direction =  getUrlParams('dir');
		if(direction != 'rtl')
		{direction = 'ltr'; }

		var dezSettingsOptions = {
			typography: "roboto",
			version: "light",
			layout: "vertical",
			headerBg: "color_1",
			navheaderBg: "color_3",
			sidebarBg: "color_1",
			sidebarStyle: "full",
			sidebarPosition: "fixed",
			headerPosition: "fixed",
			containerLayout: "wide",
			direction: direction
		};

		new dezSettings(dezSettingsOptions);

		jQuery(window).on('resize',function(){

			var sidebar = 'full';
			var screenWidth = jQuery(window).width();
			if(screenWidth < 600){
				sidebar = 'overlay';
			}else if(screenWidth > 600  && screenWidth < 1199){
				sidebar = 'mini';
			}

			dezSettingsOptions.sidebarStyle = sidebar;

			new dezSettings(dezSettingsOptions);
		});
	})(jQuery);
	</script>
{% endblock other_js_src %}
